<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Google Analitycs -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-45JXRHZ9MB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-45JXRHZ9MB');
  </script>
  <%- include('partials/headHome.ejs') %>
    <title>Home - UCAB SPORT</title>
</head>
<body>

  <div class="preloader">
    <div class="spinner"></div>
  </div>
  <div class="content">
    <%- include('partials/navHome.ejs') %>
    <!-- sliders -->
      <%- include('partials/sliders.ejs') %>
        <%- include('partials/rankingsDisponibles.ejs') %>
          <!-- tabla de posiciones -->
          <%- include('partials/tablaPosiciones.ejs') %>
              <!-- partidos  -->
              <% if (partidos.length> 0) { %>
                <section class="proximosPartidos">
                  <div class="container">
                    <div class="row">
                      <div class="col-12 mt-5">
                        <h2 class="text-center text-white"><%= partidos[0].nombreTorneo %></h2>
                        <h2 class="text-center text-white">Próximos Partidos</h2>
                      </div>
                      <% partidos.forEach((partidos,i)=>{ %>
                        <div class="col-12 mt-5 mb-5">
                          <h3 class="text-white text-center">
                             <%= partidos.nombreDeporte %>
                          </h3>
                          <div class="matchup-container d-flex justify-content-center align-items-center">
                            <div class="team-container">
                              <img src="<%= partidos.imagen1 ? partidos.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                alt="<%= partidos.equipo1 %>">
                              <h4 class="text-white text-center tituloEquipo">
                                <%= partidos.equipo1 %>
                              </h4>
                            </div>
                            <div class="vs text-white">VS</div>
                            <div class="team-container">
                              <img src="<%= partidos.imagen2 ? partidos.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                alt="<%= partidos.equipo2 %>">
                              <h4 class="text-white text-center tituloEquipo">
                                <%= partidos.equipo2 %>
                              </h4>
                            </div>
                          </div>
                          <div class="text-center mt-5">
                            <h5 class="text-white">
                              <%= new Date(partidos.fecha).toLocaleDateString('es-ES') %> - <%= new Date(partidos.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %><i class='bx bxs-calendar'></i>
                            </h5>
                          </div>
                          <div class="text-center">
                            <h5 class="text-white">
                              <%= partidos.nombreEstadio %> <i class='bx bxs-map-pin'></i>
                            </h5>
                          </div>
                        </div>
                        <div class="separator"></div>
                        <% }) %>
                    </div>
                  </div>
                </section>
                <% } %>
                  <!-- Si no hay resultados, no mostrar nada -->
                  <section class="resultadosClasificatoria">
                  <% if (resultados.length> 0) { %>
                    <div class="container text-center">
                      <h2 class="text-center"><%= resultados[0].nombreTorneo %></h2>
                      <h2 class="text-center">Resultados Clasificatoria</h2>
                    </div>
                      <div class="col-md-3 mx-auto ms-5 me-5 text-center">
                        <select class="form-select border-3" aria-label="Default select example" id="selectJornada">
                          <% const idMap=new Map(); %>
                            <% resultados.forEach((resultado, index)=> { %>
                              <% if (!idMap.has(resultado.jornada)) { %>
                                <option selected data-tab-id="<%= resultado.jornada %>"
                                  class="tablinks <%= index === resultados.length - 1 ? 'active' : '' %>"
                                  onclick="openTab(event, '<%= resultado.jornada %>')" value="<%= resultado.jornada %>">
                                  Jornada - <%= resultado.jornada %>
                                </option>
                                <% idMap.set(resultado.jornada, true); %>
                                  <% } %>
                                    <% let lastJornada=resultado.jornada %> %>
                                      <% }); %>
                        </select>
                      </div>
                      <% } %>

                      <% let lastJornada=null; %>
                        <% resultados.forEach((resultado, index)=> { %>
                          <% if (resultado.jornada !==lastJornada) { %>
                            <div id="<%= resultado.jornada %>"
                              class="tabcontent <%= index === resultados.length - 1 ? 'show' : '' %>">
                              <% } %>
                                <div class="d-flex flex-wrap text-center justify-content-center align-items-center">
                                  <h2 class="text-center TituloJornada"><%= new Date(resultado.fecha).toLocaleDateString('es-ES') %> - <%= new Date(resultado.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %>
                                  </h2>
                                </div>
                                <div class="matchup-container d-flex justify-content-center align-items-center">
                                  <div class="team-container">
                                    <img src="<%= resultado.imagen1 ? resultado.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                      alt="Logo del equipo 1">
                                    <h4 class="text-center tituloEquipo">
                                      <%= resultado.equipo1 %>
                                    </h4>
                                  </div>
                                  <div class="vs">
                                    <%= resultado.puntos1 %> - <%= resultado.puntos2 %>
                                  </div>
                                  <div class="team-container">
                                    <img
                                      src="<%= resultado.imagen2 ? resultado.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                      alt="Logo del equipo 2">
                                    <h4 class="text-center tituloEquipo">
                                      <%= resultado.equipo2 %>
                                    </h4>
                                  </div>
                                </div>

                                <% if (index===resultados.length - 1 || resultado.jornada
                                  !==resultados[index+1].jornada) { %>
                            </div>
                            <% } %>
                              <% lastJornada=resultado.jornada; %>
                                <% }); %>
                              </section>

                                  <!-- Eliminatoria Torneo -->
                                <% if (partidosTorneos.length> 0) { %>
                                  <div class="container">
                                    <h1>Eliminatoria</h1>
                                    <div class="tournament-bracket tournament-bracket--rounded">
                                      <div class="tournament-bracket__round tournament-bracket__round--quarterfinals">
                                        <h3 class="tournament-bracket__round-title">Cuartos De Final</h3>
                                        <ul class="tournament-bracket__list">
                                          <% var partidosCuartos = partidosTorneos.filter(function(partido) { 
                                            return partido.etapa === "CUARTOS DE FINAL";
                                          }); %>
                                         <% var partidosPorDefinir = 4; %>
                                          <% partidosCuartos.forEach((partido,i)=>{ %>
                                            <li class="tournament-bracket__item">
                                              <div class="tournament-bracket__match" tabindex="0">
                                                <table class="tournament-bracket__table text-center">
                                                  <caption class="tournament-bracket__caption">
                                                    <% if (partido.imagen1 == partido.imagen2){ %>
                                                      <time>Clasificado</time>
                                                      <% } else { %>
                                                    <time>
                                                      <%= new Date(partido.fecha).toLocaleDateString('es-ES') %> - <%= new Date(partido.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %>
                                                    </time>
                                                    <% var fechaPartido=new Date(partido.fecha); %>
                                                    <% if (fechaPartido> new Date()) { %>
                                                      <br>
                                                        <time>Próximamente</time>
                                                    <% } %>
                                                   <% } %>
                                                  </caption>
                                                  <% if (partido.imagen1 == partido.imagen2){ %>
                                                    <tbody class="mx-auto">
                                                      <tr class="">
                                                        <td class="">
                                                          <abbr class=""><img width="50px"
                                                              height="50px"
                                                              src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                              alt="<%= partido.equipo1 %>"></abbr>
                                                          <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                            aria-label="Flag"></span>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                    <% } else { %>
                                                  <tbody class="tournament-bracket__content">
                                                    <tr class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"><img width="50px"
                                                            height="50px"
                                                            src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                            alt="<%= partido.equipo1 %>"></abbr>
                                                        <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">
                                                          <%= partido.puntos1 %>
                                                        </span>
                                                      </td>
                                                    </tr>
                                                    <tr class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"><img width="50px"
                                                            height="50px"
                                                            src="<%= partido.imagen2 ? partido.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                                            alt="<%= partido.equipo2 %>"></abbr>
                                                        <span class="tournament-bracket__flag flag-icon flag-icon-kz"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">
                                                          <%= partido.puntos2 %>
                                                        </span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                  <% } %>
                                                </table>
                                              </div>
                                            </li>
                                              <% partidosPorDefinir--; %>
                                            <% }) %>
                                            <% for (var i = 0; i < partidosPorDefinir; i++) { %>
                                              <li class="tournament-bracket__item">
                                                <div class="tournament-bracket__match" tabindex="0">
                                                  <table class="tournament-bracket__table text-center">
                                                    <caption class="tournament-bracket__caption">
                                                      <time datetime="Por definir">Por definir</time>
                                                    </caption>
                                                    <tbody class="tournament-bracket__content">
                                                      <tr class="torneo-bracket-equipo">
                                                        <td class="tournament-bracket__country">
                                                          <abbr class="tournament-bracket__code"><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                          <span
                                                            class="tournament-bracket__flag flag-icon flag-icon-fi"
                                                            aria-label="Flag"></span>
                                                        </td>
                                                        <td class="tournament-bracket__score">
                                                          <span class="tournament-bracket__number">0</span>
                                                        </td>
                                                      </tr>
                                                      <tr
                                                        class="torneo-bracket-equipo">
                                                        <td class="tournament-bracket__country">
                                                          <abbr class="tournament-bracket__code"
                                                            ><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                          <span
                                                            class="tournament-bracket__flag flag-icon flag-icon-ru"
                                                            aria-label="Flag"></span>
                                                        </td>
                                                        <td class="tournament-bracket__score">
                                                          <span class="tournament-bracket__number">0</span>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </li>
                                            <% } %>
                                           
                                        </ul>
                                      </div>
                                      <div class="tournament-bracket__round tournament-bracket__round--semifinals">
                                        <h3 class="tournament-bracket__round-title">Semifinal</h3>
                                        <ul class="tournament-bracket__list">
                                          <% var partidosSemi = partidosTorneos.filter(function(partido) { 
                                            return partido.etapa === "SEMIFINAL";
                                          }); %>
                                         <% var partidoSemi = 2; %>
                                         <% partidosSemi.forEach((partido,i)=>{ %>
                                          <li class="tournament-bracket__item">
                                            <div class="tournament-bracket__match" tabindex="0">
                                              <table class="tournament-bracket__table text-center">
                                                <caption class="tournament-bracket__caption">
                                                  <% if (partido.imagen1 == partido.imagen2){ %>
                                                    <time>Clasificado</time>
                                                    <% } else { %>
                                                  <time>
                                                    <%= new Date(partido.fecha).toLocaleDateString('es-ES') %> - <%= new Date(partido.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %>
                                                  </time>
                                                  <% var fechaPartido=new Date(partido.fecha); %>
                                                  <% if (fechaPartido> new Date()) { %>
                                                    <br>
                                                      <time>Próximamente</time>
                                                  <% } %>
                                                 <% } %>
                                                </caption>
                                                <% if (partido.imagen1 == partido.imagen2){ %>
                                                  <tbody class="mx-auto">
                                                    <tr class="">
                                                      <td class="">
                                                        <abbr class=""><img width="50px"
                                                            height="50px"
                                                            src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                            alt="<%= partido.equipo1 %>"></abbr>
                                                        <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                  <% } else { %>
                                                <tbody class="tournament-bracket__content">
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo1 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos1 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen2 ? partido.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo2 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-kz"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos2 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                                <% } %>
                                              </table>
                                            </div>
                                          </li>
                                              <% partidoSemi--; %>
                                            <% }) %>
                                            <% for (var i = 0; i < partidoSemi; i++) { %>
                                              <li class="tournament-bracket__item">
                                                <div class="tournament-bracket__match" tabindex="0">
                                                  <table class="tournament-bracket__table">
                                                    <caption class="tournament-bracket__caption">
                                                      <time datetime="Por definir">Por definir</time>
                                                    </caption>

                                                    <tbody class="tournament-bracket__content">
                                                      <tr class="torneo-bracket-equipo">
                                                        <td class="tournament-bracket__country">
                                                          <abbr class="tournament-bracket__code"><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                          <span
                                                            class="tournament-bracket__flag flag-icon flag-icon-fi"
                                                            aria-label="Flag"></span>
                                                        </td>
                                                        <td class="tournament-bracket__score">
                                                          <span class="tournament-bracket__number">0</span>
                                                        </td>
                                                      </tr>
                                                      <tr
                                                        class="torneo-bracket-equipo">
                                                        <td class="tournament-bracket__country">
                                                          <abbr class="tournament-bracket__code"
                                                            ><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                          <span
                                                            class="tournament-bracket__flag flag-icon flag-icon-ru"
                                                            aria-label="Flag"></span>
                                                        </td>
                                                        <td class="tournament-bracket__score">
                                                          <span class="tournament-bracket__number">0</span>
                                                        </td>
                                                      </tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </li>
                                            <% } %>
                                                  

                                        </ul>
                                      </div>
                                      <div class="tournament-bracket__round tournament-bracket__round--bronze">
                                        <h3 class="tournament-bracket__round-title">Tercer Lugar</h3>
                                        <ul class="tournament-bracket__list">
                                          <% var partidoTercer = partidosTorneos.filter(function(partido) { 
                                            return partido.etapa === "TERCER LUGAR";
                                          }); %>
                                         <% var tecerlugar = 1; %>
                                         <% partidoTercer.forEach((partido,i)=>{ %>
                                          <li class="tournament-bracket__item">
                                            <div class="tournament-bracket__match" tabindex="0">
                                              <table class="tournament-bracket__table text-center">
                                                <caption class="tournament-bracket__caption">
                                                  <% if (partido.imagen1 == partido.imagen2){ %>
                                                    <time>Clasificado</time>
                                                    <% } else { %>
                                                  <time>
                                                    <%= new Date(partido.fecha).toLocaleDateString('es-ES') %> - <%= new Date(partido.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %>
                                                  </time>
                                                  <% var fechaPartido=new Date(partido.fecha); %>
                                                  <% if (fechaPartido> new Date()) { %>
                                                    <br>
                                                      <time>Próximamente</time>
                                                  <% } %>
                                                 <% } %>
                                                </caption>
                                                <% if (partido.imagen1 == partido.imagen2){ %>
                                                  <tbody class="mx-auto">
                                                    <tr class="">
                                                      <td class="">
                                                        <abbr class=""><img width="50px"
                                                            height="50px"
                                                            src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                            alt="<%= partido.equipo1 %>"></abbr>
                                                        <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                  <% } else { %>
                                                <tbody class="tournament-bracket__content">
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo1 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos1 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen2 ? partido.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo2 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-kz"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos2 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                                <% } %>
                                              </table>
                                            </div>
                                          </li>
                                          <% tecerlugar--; %>
                                          <% }) %>
                                          <% for (var i = 0; i < tecerlugar; i++) { %>
                                            <li class="tournament-bracket__item">
                                              <div class="tournament-bracket__match" tabindex="0">
                                                <table class="tournament-bracket__table">
                                                  <caption class="tournament-bracket__caption">
                                                    <time datetime="Por definir">Por definir</time>
                                                  </caption>

                                                  <tbody class="tournament-bracket__content">
                                                    <tr class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                        <span
                                                          class="tournament-bracket__flag flag-icon flag-icon-fi"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">0</span>
                                                      </td>
                                                    </tr>
                                                    <tr
                                                      class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"
                                                          ><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                        <span
                                                          class="tournament-bracket__flag flag-icon flag-icon-ru"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">0</span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </li>
                                          <% } %>
                                        </ul>



                                      </div>
                                      <div class="tournament-bracket__round tournament-bracket__round--gold">
                                        <h3 class="tournament-bracket__round-title">Final</h3>
                                        <ul class="tournament-bracket__list">
                                          <% var partidoFinal = partidosTorneos.filter(function(partido) { 
                                            return partido.etapa === "FINAL";
                                          }); %>
                                         <% var final = 1; %>
                                         <% partidoFinal.forEach((partido,i)=>{ %>
                                          <li class="tournament-bracket__item">
                                            <div class="tournament-bracket__match" tabindex="0">
                                              <table class="tournament-bracket__table text-center">
                                                <caption class="tournament-bracket__caption">
                                                  <% if (partido.imagen1 == partido.imagen2){ %>
                                                    <time>Clasificado</time>
                                                    <% } else { %>
                                                  <time>
                                                    <%= new Date(partido.fecha).toLocaleDateString('es-ES') %> - <%= new Date(partido.fecha).toLocaleString("en-US", {hour12: true, hour: "numeric", minute: "numeric"}) %>
                                                  </time>
                                                  <% var fechaPartido=new Date(partido.fecha); %>
                                                  <% if (fechaPartido> new Date()) { %>
                                                    <br>
                                                      <time>Próximamente</time>
                                                  <% } %>
                                                 <% } %>
                                                </caption>
                                                <% if (partido.imagen1 == partido.imagen2){ %>
                                                  <tbody class="mx-auto">
                                                    <tr class="">
                                                      <td class="">
                                                        <abbr class=""><img width="50px"
                                                            height="50px"
                                                            src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                            alt="<%= partido.equipo1 %>"></abbr>
                                                        <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                  <% } else { %>
                                                <tbody class="tournament-bracket__content">
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen1 ? partido.imagen1 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo1 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-ca"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos1 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                  <tr class="torneo-bracket-equipo">
                                                    <td class="tournament-bracket__country">
                                                      <abbr class="tournament-bracket__code"><img width="50px"
                                                          height="50px"
                                                          src="<%= partido.imagen2 ? partido.imagen2 : 'images/UCAB-LOBOS.svg' %>"
                                                          alt="<%= partido.equipo2 %>"></abbr>
                                                      <span class="tournament-bracket__flag flag-icon flag-icon-kz"
                                                        aria-label="Flag"></span>
                                                    </td>
                                                    <td class="tournament-bracket__score">
                                                      <span class="tournament-bracket__number">
                                                        <%= partido.puntos2 %>
                                                      </span>
                                                    </td>
                                                  </tr>
                                                </tbody>
                                                <% } %>
                                              </table>
                                            </div>
                                          </li>
                                          <% final--; %>
                                          <% }) %>
                                          <% for (var i = 0; i < final; i++) { %>
                                            <li class="tournament-bracket__item">
                                              <div class="tournament-bracket__match" tabindex="0">
                                                <table class="tournament-bracket__table">
                                                  <caption class="tournament-bracket__caption">
                                                    <time datetime="Por definir">Por definir</time>
                                                  </caption>

                                                  <tbody class="tournament-bracket__content">
                                                    <tr class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                        <span
                                                          class="tournament-bracket__flag flag-icon flag-icon-fi"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">0</span>
                                                      </td>
                                                    </tr>
                                                    <tr
                                                      class="torneo-bracket-equipo">
                                                      <td class="tournament-bracket__country">
                                                        <abbr class="tournament-bracket__code"
                                                          ><img width="40px" height="40px" src="images/ShieldGray.svg" alt="logo"></abbr>
                                                        <span
                                                          class="tournament-bracket__flag flag-icon flag-icon-ru"
                                                          aria-label="Flag"></span>
                                                      </td>
                                                      <td class="tournament-bracket__score">
                                                        <span class="tournament-bracket__number">0</span>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </li>
                                          <% } %>
                                        </ul>
                                        </ul>
                                      </div>
                                    </div>
                                  </div>
<% }; %>

                                  <!-- Fin eliminatoria torneo -->

                                  <!-- Ranking General UCAB SPORT TODOS LOS DEPORTES -->
                                  <% if (rankingGeneral.length > 0) { %>
                                    <div class="container mt-5 mb-3">
                                      <% var deporteActual = ""; %>
                                      <h2 class="text-center">RANKING UCAB SPORTS 🔥</h2>
                                      <% var posicion = 0; %>
                                      <% rankingGeneral.forEach((fila) => {
                                        if (fila.nombreDeporte !== deporteActual) {
                                          deporteActual = fila.nombreDeporte;
                                          posicion = 0; // reinicia la posición para el nuevo deporte
                                      %>
                                          <h2 class="text-center titulosRankings"><%= deporteActual %></h2>
                                          <div class="table-responsive mt-4 mb-4">
                                            <table class="rankingGeneral table table-bordered table-striped text-center mt-4" id="rankingGeneral">
                                              <thead>
                                                <tr class="bg-primary text-white">
                                                  <th scope="col">#</th> 
                                                  <th scope="col">Nombre</th>
                                                  <th scope="col">Carrera</th>
                                                  <th scope="col">Puntos</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                        <% } %>
                                                <tr>
                                                  <td><%= ++posicion %></td> <!-- Incrementa la posición y muestra en la tabla -->
                                                  <td><%= fila.nombreJugador %></td>
                                                  <td><%= fila.nombreCarrera %></td>
                                                  <td><%= fila.total_puntos %></td>
                                                </tr>
                                        <% if (rankingGeneral.indexOf(fila) === rankingGeneral.length - 1 || fila.nombreDeporte !== rankingGeneral[rankingGeneral.indexOf(fila) + 1].nombreDeporte) { %>
                                              </tbody>
                                            </table>
                                          </div>
                                        <% } %>
                                      <% }) %>
                                    </div>
                                  <% } %>

                                  <!--RANKING GENERAL DEPORTES POR EQUIPOS-->
                                  <% if (rankingGeneralEquipos.length > 0) { %>
                                    <div class="container mt-2 mb-3">
                                      <% var deporteActual = ""; %>
                                      <% var posicion = 0; %>
                                      <% rankingGeneralEquipos.forEach((fila) => {
                                        if (fila.nombreDeporte !== deporteActual) {
                                          deporteActual = fila.nombreDeporte;
                                          posicion = 0; // reinicia la posición para el nuevo deporte
                                      %>
                                          <h2 class="text-center titulosRankings"><%= deporteActual %></h2>
                                          <div class="table-responsive mt-4 mb-4">
                                            <table class="rankingGeneralEquipos table table-bordered table-striped text-center mt-4" id="rankingGeneralEquipos">
                                              <thead>
                                                <tr class="bg-primary text-white">
                                                  <th scope="col">#</th> 
                                                  <th scope="col">Equipos</th>
                                                  <th scope="col">Puntos</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                        <% } %>
                                                <tr>
                                                  <td><%= ++posicion %></td> <!-- Incrementa la posición y muestra en la tabla -->
                                                  <td><%= fila.nombreEquipo %></td>
                                                  <td><%= fila.total_puntos %></td>
                                                </tr>
                                        <% if (rankingGeneralEquipos.indexOf(fila) === rankingGeneralEquipos.length - 1 || fila.nombreDeporte !== rankingGeneralEquipos[rankingGeneralEquipos.indexOf(fila) + 1].nombreDeporte) { %>
                                              </tbody>
                                            </table>
                                          </div>
                                        <% } %>
                                      <% }) %>
                                    </div>
                                  <% } %>
                                  <!-- FIN RANKING GENERAL-->
                                  <%- include('partials/seccionNoticias.ejs') %>
                                  <%- include('partials/footer.ejs') %>
                                    </div> <!-- cierre de contenido de preloader -->
                                    <%- include('partials/scriptsHome.ejs') %>
                                    <script>
                                      miSelect = document.getElementById('selectJornada');
                                      miSelect.addEventListener('change', function () {
                                        var id = this.options[this.selectedIndex].getAttribute('data-tab-id');
                                        openTab(null, id);
                                      });
                                      const tabs = document.querySelectorAll('.tablinks');
                                      const tabContents = document.querySelectorAll('.tabcontent');
                                      function openTab(event, tabId) {
                                        // Ocultamos todos los contenidos de las pestañas
                                        tabContents.forEach(content => content.style.display = 'none');
                                        // Quitamos la clase 'active' de todos los botones tabuladores
                                        tabs.forEach(tab => tab.classList.remove('active'));
                                        // Mostramos el contenido de la pestaña seleccionada
                                        document.getElementById(tabId).style.display = 'block';
                                        // si el event es nulo entonces, se muestra la ultima jornada
                                        if (event) {
                                          // Agregamos la clase 'active' al botón tabulador seleccionado
                                          event.currentTarget.classList.add('active');
                                        } else {
                                          // Obtenemos el último botón tabulador
                                          const lastTab = tabs[tabs.length - 1];
                                          // Obtenemos el id de la última pestaña
                                          const lastTabId = lastTab.getAttribute('data-tab-id');
                                          // Agregamos la clase 'active' al último botón tabulador
                                          lastTab.classList.add('active');
                                        }

                                        // Si no se ha seleccionado ninguna pestaña al inicio, mostramos la última
                                        if (!tabId) {
                                          // Obtenemos el último botón tabulador
                                          const lastTab = tabs[tabs.length - 1];
                                          // Obtenemos el id de la última pestaña
                                          const lastTabId = lastTab.getAttribute('data-tab');
                                          // Mostramos el contenido de la última pestaña
                                          document.getElementById(lastTabId).style.display = 'block';
                                          // Agregamos la clase 'active' al último botón tabulador
                                          lastTab.classList.add('active');
                                        }
                                      }
                                      // obtener el id de la ultima jornada
                                      const lastTab = tabs[tabs.length - 1];
                                      const lastTabId = lastTab.getAttribute('data-tab-id');
                                      // Mostramos por defecto la última jornada
                                      openTab(null, lastTabId);
                                      // Añadimos el evento 'click' a cada botón tabulador
                                      tabs.forEach(tab => {
                                        tab.addEventListener('click', event => {
                                          // Obtenemos el id de la pestaña correspondiente al botón tabulador
                                          const tabId = event.currentTarget.getAttribute('data-tab-id');
                                          // Mostramos el contenido de la pestaña correspondiente
                                          openTab(event, tabId);
                                        });
                                      });
                                    </script>
                                    <script>
                                      $(document).ready(function () {
                                        // Obtenemos todos los elementos tbody que tienen dos elementos tr con la clase torneo-bracket-equipo
                                        const tbodies = document.querySelectorAll('tbody:has(.torneo-bracket-equipo:first-child):has(.torneo-bracket-equipo:last-child)');
                                        // Iteramos por cada tbody
                                        tbodies.forEach(tbody => {
                                          // Obtenemos los dos elementos tr con la clase torneo-bracket-equipo
                                          const [team1, team2] = tbody.querySelectorAll('.torneo-bracket-equipo');

                                          // Obtenemos los valores numéricos de ambos equipos
                                          const value1 = parseFloat(team1.textContent);
                                          const value2 = parseFloat(team2.textContent);
                                          // Comparamos los valores y añadimos la clase torneo-bracket-equipo--winner al equipo con el valor más alto

                                          // si equipo1 tiene la misma imagen que equipo2 y el atributo es <time datetime="Por definir">, entonces borramos equipo1
                                          
                                          if (value1 > value2) {
                                            team1.classList.add('torneo-bracket-equipo--winner');
                                            team2.classList.remove('torneo-bracket-equipo--winner');
                                          } else if (value2 > value1) {
                                            team2.classList.add('torneo-bracket-equipo--winner');
                                            team1.classList.remove('torneo-bracket-equipo--winner');
                                          }
                                          if(value1 == 0 && value2 == 0){
                                            // borramos los elementos con la clase tournament-bracket__score y los elementos con la clase .tournament-bracket__content::after
                                            const score = tbody.querySelectorAll('.tournament-bracket__score');
                                            //colocar el estilo content: "" a los elementos con la clase .tournament-bracket__content::after
                                            score.forEach(element => {
                                              element.remove();
                                            });
                                                
                                          }
                                          // si equipo1 tiene la misma imagen que equipo2 y el atributo es <time datetime="Por definir">, entonces borramos equipo1 
                                          // if(team1.querySelector('img').src == team2.querySelector('img').src){
                                          //   team1.remove();
                                          // }
                                        });
                                      });
                                    </script>
                                              </body>
                                            </html>
</body>
</html>